<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LivenJet | Frost Protocol</title>
    <style>
        /* --- CORE STYLES --- */
        :root { --gold: #FFD700; --dark: #050505; --accent: #FFD700; --green: #00ff00; --red: #ff4444; --ice: #00f2ff; }
        body { background-color: #000; color: var(--accent); font-family: 'Segoe UI', sans-serif; text-align: center; margin: 0; overflow: hidden; user-select: none; transition: 0.5s; }
        
        /* --- BIOMETRIC LOCK --- */
        #launchpad { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: 0.8s ease-in-out; }
        .scanner-box { width: 100px; height: 100px; border: 2px solid #333; border-radius: 20px; position: relative; overflow: hidden; box-shadow: 0 0 20px rgba(255, 215, 0, 0.1); }
        .fingerprint { font-size: 50px; margin-top: 20px; opacity: 0.3; }
        .scan-line { width: 100%; height: 4px; background: #0f0; position: absolute; top: 0; animation: scan 2s linear infinite; }
        @keyframes scan { 0% { top: 0; } 50% { top: 100%; } 100% { top: 0; } }
        .auth-btn { background: var(--accent); border: none; padding: 15px 40px; border-radius: 30px; font-weight: bold; margin-top: 30px; cursor: pointer; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* --- MODALS --- */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 5000; align-items: center; justify-content: center; backdrop-filter: blur(8px); }
        .modal-card { background: #111; border: 1px solid var(--accent); color: #fff; width: 85%; padding: 25px 20px; border-radius: 20px; position: relative; animation: slideUp 0.4s ease; text-align: center; box-shadow: 0 0 30px rgba(255, 215, 0, 0.15); }
        .receipt-card { background: #fff; color: #000; border: none; }
        .dashed-line { border-bottom: 2px dashed #ccc; margin: 20px 0; }
        .btn-full { background: var(--accent); color: #000; border: none; padding: 12px; width: 100%; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .btn-outline { background: transparent; border: 1px solid #333; color: #fff; padding: 12px; width: 100%; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        
        /* --- QR SCANNER --- */
        .camera-view { width: 100%; height: 250px; background: #222; position: relative; overflow: hidden; border-radius: 12px; border: 1px solid #444; }
        .laser-beam { width: 100%; height: 2px; background: red; position: absolute; top: 0; box-shadow: 0 0 10px red; animation: scan 1.5s linear infinite; }

        /* FORM INPUTS */
        .input-group { margin-bottom: 15px; text-align: left; }
        .input-label { font-size: 10px; color: #888; margin-bottom: 5px; display: block; }
        .app-input { width: 100%; background: #222; border: 1px solid #444; color: #fff; padding: 12px; border-radius: 8px; box-sizing: border-box; font-size: 16px; outline: none; }
        select.app-input { appearance: none; }

        /* --- CREDIT METER --- */
        .credit-meter { width: 150px; height: 150px; border-radius: 50%; border: 10px solid #222; border-top: 10px solid var(--accent); margin: 20px auto; display: flex; flex-direction: column; align-items: center; justify-content: center; animation: spin-load 2s ease-out; position: relative; }
        .credit-score { font-size: 40px; font-weight: bold; color: #fff; }
        .credit-label { font-size: 10px; color: var(--green); text-transform: uppercase; letter-spacing: 2px; }
        @keyframes spin-load { 0% { transform: rotate(-90deg); border-top-color: transparent; } 100% { transform: rotate(0deg); border-top-color: var(--accent); } }

        /* --- ACTION GRID --- */
        .action-grid { display: flex; justify-content: space-between; gap: 10px; margin-top: 20px; }
        .action-btn { flex: 1; background: #1a1a1a; border-radius: 12px; padding: 15px 5px; cursor: pointer; border: 1px solid #333; transition: 0.2s; }
        .action-btn:active { background: #333; transform: scale(0.95); }
        .action-icon { font-size: 20px; margin-bottom: 5px; }
        .action-text { font-size: 10px; font-weight: bold; color: #ccc; }

        /* --- INVESTMENT & MAP --- */
        .chart-container { display: flex; align-items: flex-end; justify-content: space-between; height: 100px; padding: 10px; border-bottom: 1px solid #333; margin-bottom: 15px; }
        .chart-bar { width: 12%; background: #333; border-radius: 4px 4px 0 0; transition: 0.5s; animation: growBar 1s ease-out; }
        .chart-bar.active { background: var(--green); }
        @keyframes growBar { from { height: 0; } }
        
        .map-grid { width: 100%; height: 200px; background: radial-gradient(circle, #222 10%, #000 90%); border: 1px solid #333; margin-bottom: 15px; position: relative; overflow: hidden; border-radius: 10px; }
        .radar-scan { width: 200px; height: 200px; border-radius: 50%; background: conic-gradient(from 0deg, transparent, rgba(0, 255, 0, 0.2)); position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); animation: spin 3s linear infinite; }
        .map-dot { width: 6px; height: 6px; background: var(--accent); border-radius: 50%; position: absolute; box-shadow: 0 0 10px var(--accent); animation: blink 1s infinite; }
        @keyframes spin { 100% { transform: translate(-50%, -50%) rotate(360deg); } }
        @keyframes blink { 50% { opacity: 0.5; } }

        /* --- CHAT --- */
        .chat-card { height: 70vh; display: flex; flex-direction: column; justify-content: space-between; padding: 0; }
        .chat-body { flex: 1; padding: 15px; overflow-y: auto; text-align: left; background: #000; }
        .chat-input-area { padding: 10px; background: #222; display: flex; gap: 10px; }
        .chat-input { flex: 1; padding: 10px; border-radius: 20px; border: none; background: #333; color: #fff; outline: none; }
        .msg { padding: 8px 12px; border-radius: 12px; margin-bottom: 10px; font-size: 12px; max-width: 70%; }
        .msg-ai { background: #333; color: #fff; border-top-left-radius: 0; }
        .msg-user { background: var(--accent); color: #000; margin-left: auto; border-bottom-right-radius: 0; }
        .fab-chat { position: fixed; bottom: 100px; right: 20px; width: 50px; height: 50px; background: var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; box-shadow: 0 0 20px rgba(255,215,0,0.4); z-index: 4000; cursor: pointer; }

        /* --- MAIN APP --- */
        #app-interface { display: none; opacity: 0; transition: 1s; padding-bottom: 120px; overflow-y: scroll; height: 100vh; }
        .ticker-wrap { width: 100%; background: #111; padding: 8px 0; position: fixed; top: 0; z-index: 2000; font-family: monospace; font-size: 10px; color: #666; }
        .neural-core { width: 70px; height: 70px; background: radial-gradient(circle, var(--accent) 0%, transparent 70%); border-radius: 50%; margin: 60px auto 20px; position: relative; animation: core-pulse 3s infinite; }
        .core-inner { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 40%; height: 40%; background: #fff; border-radius: 50%; box-shadow: 0 0 20px var(--accent); }
        @keyframes core-pulse { 0%, 100% { transform: scale(1); opacity: 0.6; } 50% { transform: scale(1.1); opacity: 1; } }

        .pillar { display: none; padding: 20px; animation: slideIn 0.4s ease; }
        .active { display: block; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; } }
        
        .intel-card { background: rgba(15,15,15,0.9); border: 1px solid #222; border-bottom: 2px solid var(--accent); border-radius: 16px; padding: 20px; margin: 15px auto; max-width: 340px; text-align: left; transition: 0.3s; }
        .btn { background: var(--accent); border: none; padding: 15px; width: 100%; border-radius: 12px; margin-top: 10px; font-weight: bold; cursor: pointer; }
        
        .dock { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 400px; background: rgba(10,10,10,0.95); border: 1px solid #332; border-radius: 25px; display: flex; justify-content: space-around; padding: 18px 0; z-index: 1000; backdrop-filter: blur(10px); }
        .dock-item { font-size: 24px; opacity: 0.3; transition: 0.3s; cursor: pointer; }
        .active-icon { opacity: 1; color: var(--accent); transform: translateY(-5px); }
        
        /* HEADER ICONS */
        .avatar-btn { width: 35px; height: 35px; background: var(--accent); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #000; font-weight: 900; position: fixed; top: 40px; left: 20px; z-index: 2001; cursor: pointer; }
        .settings-btn { width: 35px; height: 35px; background: #222; border: 1px solid #333; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff; position: fixed; top: 40px; right: 20px; z-index: 2001; cursor: pointer; font-size: 18px; }
        
        .pass-row { display: flex; justify-content: space-between; margin: 15px 0; font-size: 12px; border-bottom: 1px solid #333; padding-bottom: 5px; }
        
        /* LEDGER */
        .ledger-box { margin-top: 20px; text-align: left; max-height: 200px; overflow-y: auto; padding-right: 5px; }
        .tx-row { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #222; animation: fadeIn 0.5s; }
        .tx-icon { width: 30px; height: 30px; background: #222; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 14px; margin-right: 10px; }
        .tx-details { flex: 1; }
        .tx-title { font-size: 12px; color: #fff; margin: 0; font-weight: bold; }
        .tx-date { font-size: 10px; color: #666; margin: 0; }
        .tx-amt { font-size: 12px; font-weight: bold; color: #ff4444; }
        .tx-amt.credit { color: #00ff00; }

        /* FROZEN CARD STYLE */
        .frozen { border-color: var(--ice) !important; background: linear-gradient(145deg, #002, #000) !important; box-shadow: 0 0 20px var(--ice) !important; }
        .frozen-text { color: var(--ice) !important; text-shadow: 0 0 10px var(--ice); }

        @keyframes fadeIn { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }
    </style>
</head>
<body>

    <div id="settings-overlay" class="modal-overlay">
        <div class="modal-card">
            <h2 style="margin: 0 0 20px 0;">CONTROL CENTER</h2>
            <div class="input-group">
                <label class="input-label">DISPLAY NAME</label>
                <input type="text" class="app-input" id="set-name" value="STEVEN ADEWOLE">
            </div>
            <div class="input-group">
                <label class="input-label">SYSTEM THEME</label>
                <div style="display:flex; gap:10px;">
                    <button class="btn" style="margin:0; flex:1;" onclick="toggleTheme('gold')">GOLD</button>
                    <button class="btn" style="margin:0; flex:1; background:#0f0; color:#000;" onclick="toggleTheme('matrix')">MATRIX</button>
                </div>
            </div>
            <button class="btn-full" onclick="saveSettings()">SAVE CHANGES</button>
            <button class="btn-outline" style="border-color:#ff4444; color:#ff4444;" onclick="resetSystem()">FACTORY RESET</button>
            <button class="btn-outline" onclick="toggleModal('settings-overlay')">CLOSE</button>
        </div>
    </div>

    <div id="scan-overlay" class="modal-overlay">
        <div class="modal-card">
            <h2 style="margin: 0 0 20px 0;">SCAN & PAY</h2>
            <div class="camera-view">
                <div class="laser-beam"></div>
                <p style="margin-top:130px; font-size:10px; color:#888;">ALIGN QR CODE</p>
            </div>
            <p id="scan-status" style="color:var(--accent); font-size:12px; margin-top:15px; height:15px;"></p>
            <button class="btn-full" onclick="toggleModal('scan-overlay')">CANCEL</button>
        </div>
    </div>

    <div id="loan-overlay" class="modal-overlay">
        <div class="modal-card">
            <h2 style="margin: 0 0 20px 0;">CREDIT SCAN</h2>
            <div id="credit-scanner" style="display:block;">
                <p style="font-size:10px; color:#888;">ANALYZING FINANCIAL HISTORY...</p>
                <div style="width:100%; height:4px; background:#222; margin:20px 0;"><div style="width:100%; height:100%; background:var(--accent); animation:growBar 2s;"></div></div>
            </div>
            <div id="credit-result" style="display:none;">
                <div class="credit-meter">
                    <div class="credit-score">780</div>
                    <div class="credit-label">EXCELLENT</div>
                </div>
                <p style="font-size:12px; color:#fff;">APPROVED LIMIT</p>
                <h1 style="margin:0; font-size:30px; color:var(--green);">‚Ç¶ 500,000</h1>
                <button class="btn-full" onclick="disburseLoan()">ACCEPT OFFER</button>
            </div>
        </div>
    </div>

    <div id="send-overlay" class="modal-overlay">
        <div class="modal-card">
            <h2 style="margin: 0 0 20px 0;">SEND MONEY</h2>
            <div class="input-group">
                <label class="input-label">BANK NAME</label>
                <select class="app-input" id="send-bank">
                    <option>OPay Digital Services</option>
                    <option>GTBank</option>
                    <option>Zenith Bank</option>
                    <option>Access Bank</option>
                </select>
            </div>
            <div class="input-group">
                <label class="input-label">ACCOUNT NUMBER</label>
                <input type="number" class="app-input" id="send-acc" placeholder="10-digit number" oninput="verifyAccount()">
            </div>
            <div id="verify-box" style="display:none; margin-bottom:15px; background:#1a1a1a; padding:10px; border-radius:8px;">
                <p style="font-size:10px; color:#888; margin:0;">VERIFIED NAME</p>
                <p style="font-weight:bold; color:var(--green); margin:5px 0;" id="verified-name">LOADING...</p>
            </div>
            <div class="input-group">
                <label class="input-label">AMOUNT (‚Ç¶)</label>
                <input type="number" class="app-input" id="send-amt" placeholder="0.00">
            </div>
            <button class="btn-full" onclick="processTransfer()">CONFIRM TRANSFER</button>
            <button class="btn-full" style="background:#222; color:#fff; border:1px solid #333;" onclick="toggleModal('send-overlay')">CANCEL</button>
        </div>
    </div>

    <div id="map-overlay" class="modal-overlay">
        <div class="modal-card">
            <h2 style="margin: 0 0 10px 0;">SATELLITE VIEW</h2>
            <div class="map-grid">
                <div class="radar-scan"></div>
                <div class="map-dot" style="top: 40%; left: 30%;"></div>
                <div class="map-dot" style="top: 60%; left: 70%; animation-delay: 0.5s;"></div>
            </div>
            <p style="font-size: 10px; color: #aaa;">TRACKING FLIGHT #LJ-992</p>
            <button class="btn-full" onclick="toggleModal('map-overlay')">CLOSE RADAR</button>
        </div>
    </div>

    <div id="chat-overlay" class="modal-overlay">
        <div class="modal-card chat-card">
            <div style="padding: 10px; background: #222; display: flex; justify-content: space-between;">
                <span style="font-weight:bold;">HQ SUPPORT</span>
                <span onclick="toggleModal('chat-overlay')" style="cursor:pointer;">‚úï</span>
            </div>
            <div class="chat-body" id="chat-box"><div class="msg msg-ai">Hello Chief. Systems online.</div></div>
            <div class="chat-input-area">
                <input type="text" class="chat-input" id="user-input" placeholder="Type request...">
                <button class="btn" style="width:auto; margin:0;" onclick="sendMsg()">‚û§</button>
            </div>
        </div>
    </div>

    <div id="passport-overlay" class="modal-overlay">
        <div class="modal-card">
            <h2 style="color:var(--accent); margin-top:0;">USER PASSPORT</h2>
            <div style="width: 60px; height: 60px; background: #222; border: 2px solid var(--accent); border-radius: 50%; margin: 10px auto; display: flex; align-items: center; justify-content: center; font-size: 24px;" id="pass-avatar">SA</div>
            <div class="pass-row"><span style="color:#888;">OPERATOR</span><span style="color:var(--accent);" id="pass-name">STEVEN ADEWOLE</span></div>
            <div class="pass-row"><span style="color:#888;">CLEARANCE</span><span style="color:var(--accent);">LEVEL 5</span></div>
            <button class="btn-full" onclick="toggleModal('passport-overlay')">CLOSE ID</button>
        </div>
    </div>

    <div id="receipt-overlay" class="modal-overlay">
        <div class="modal-card receipt-card">
            <h2 style="margin: 10px 0;" id="rec-title">SUCCESS</h2>
            <p style="color: #666; font-size: 12px;">Transaction Completed</p>
            <div class="dashed-line"></div>
            <div style="display: flex; justify-content: space-between; font-size: 14px; margin-bottom: 10px;">
                <span>AMOUNT</span>
                <span style="font-weight: bold;" id="rec-amt">‚Ç¶ 0.00</span>
            </div>
            <div style="display: flex; justify-content: space-between; font-size: 14px;">
                <span>DETAILS</span>
                <span style="font-family: monospace;" id="rec-to">Unknown</span>
            </div>
            <button class="btn-full" style="background:#000; color:#fff;" onclick="closeReceipt()">DOWNLOAD PDF</button>
        </div>
    </div>

    <div id="launchpad">
        <h1 style="letter-spacing: 5px; font-size: 24px; cursor: pointer;">LIVENJET</h1>
        <p style="color: #666; font-size: 10px; margin-bottom: 40px;">FROST PROTOCOL v21.0</p>
        <div class="scanner-box"><div class="scan-line"></div><div class="fingerprint">üñê</div></div>
        <button class="auth-btn" onclick="authenticate()">SCAN IDENTITY</button>
        <p id="auth-status" style="margin-top: 20px; font-family: monospace; font-size: 10px; color: #444;">WAITING FOR INPUT...</p>
    </div>

    <div id="app-interface">
        <div class="ticker-wrap">SYSTEM NODE: LOS-NGA-01 | <span id="clock"></span></div>
        <div class="avatar-btn" onclick="toggleModal('passport-overlay')" id="main-avatar">SA</div>
        <div class="settings-btn" onclick="toggleModal('settings-overlay')">‚öôÔ∏è</div>
        
        <div class="neural-core"><div class="core-inner"></div></div>
        <div style="font-family: monospace; font-size: 10px; color: #888; height: 20px;" id="ai-msg">IDENTITY VERIFIED.</div>

        <div id="home" class="pillar active">
            <div class="intel-card">
                <p style="font-size: 10px; color: #666; margin: 0;">GLOBAL LIQUIDITY</p>
                <h2 style="margin: 5px 0; font-size: 36px; font-family: 'Courier New'; cursor: pointer;" id="wallet-bal" onclick="toggleStealth()">‚Ç¶ 50,000.00</h2>
                
                <div class="action-grid">
                    <div class="action-btn" onclick="toggleModal('send-overlay')">
                        <div class="action-icon">üí∏</div>
                        <div class="action-text">SEND</div>
                    </div>
                    <div class="action-btn" onclick="openScanner()">
                        <div class="action-icon" style="color:#0f0;">üì∏</div>
                        <div class="action-text">SCAN</div>
                    </div>
                    <div class="action-btn" onclick="startLoanProcess()">
                        <div class="action-icon">üè¶</div>
                        <div class="action-text">LOANS</div>
                    </div>
                    <div class="action-btn" onclick="msg('Deposit via USSD *991#')">
                        <div class="action-icon">‚ûï</div>
                        <div class="action-text">ADD</div>
                    </div>
                </div>

                <p style="font-size: 9px; color: #666; margin-top: 20px;">RECENT ACTIVITY</p>
                <div class="ledger-box" id="ledger-list">
                    <div class="tx-row"><div class="tx-icon">üöï</div><div class="tx-details"><p class="tx-title">Uber Ride</p><p class="tx-date">Today, 10:30 AM</p></div><div class="tx-amt">-‚Ç¶2,500</div></div>
                </div>
            </div>
            <button class="btn" onclick="msg('Syncing Global Accounts...')">SYNC NETWORK</button>
        </div>

        <div id="util" class="pillar">
            <div class="intel-card">
                <h3>SMART VEND</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px;">
                    <button class="btn" style="margin:0; background:#222; color:#fff;" onclick="pay(1000, 'Power Unit')">‚ö° ‚Ç¶1,000</button>
                    <button class="btn" style="margin:0; background:#222; color:#fff;" onclick="pay(2000, 'Data Plan')">üì± ‚Ç¶2,000</button>
                </div>
            </div>
        </div>

        <div id="logi" class="pillar">
            <div class="intel-card">
                <h3>JET-TRACK</h3>
                <p style="font-size: 12px; color: #888;">#LJ-992 ‚úà LHR</p>
                <div style="background: #222; height: 6px; border-radius: 5px; margin: 15px 0;">
                    <div style="width: 80%; height: 100%; background: var(--accent);"></div>
                </div>
                <p style="font-size: 10px; text-align: right; color: var(--accent);">ARRIVING SOON</p>
            </div>
            <button class="btn" onclick="toggleModal('map-overlay')">LIVE MAP</button>
            <button class="btn" style="background:#222; color:#fff; border:1px solid #444;" onclick="bookFlight()">BOOK PRIVATE JET (‚Ç¶150k)</button>
        </div>

        <div id="fina" class="pillar">
            <div class="intel-card" id="credit-card-ui" onclick="toggleFreeze()" style="cursor:pointer; border-color:#fff;">
                <p style="font-size: 10px;">PLATINUM CARD (TAP TO FREEZE)</p>
                <h3 style="letter-spacing: 3px;" id="card-num">**** 8820</h3>
                <p style="font-size: 10px; margin-top: 20px;" id="card-status">ACTIVE</p>
            </div>

            <div class="intel-card">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <h3 style="margin:0;">PORTFOLIO</h3>
                    <span style="font-size:10px; color:#0f0;">+12.5%</span>
                </div>
                <div class="chart-container">
                    <div class="chart-bar active" style="height:30%"></div>
                    <div class="chart-bar active" style="height:50%"></div>
                    <div class="chart-bar active" style="height:40%"></div>
                    <div class="chart-bar active" style="height:85%"></div>
                    <div class="chart-bar active" style="height:100%"></div>
                </div>
                <div class="asset-row">
                    <div class="asset-info"><div class="asset-name">Bitcoin (BTC)</div><div class="asset-price">$98,420</div></div>
                    <div style="text-align:right;"><button class="buy-btn" onclick="pay(5000, 'Bitcoin Inv')">BUY ‚Ç¶5k</button></div>
                </div>
            </div>
        </div>

        <div class="dock">
            <div id="n-home" class="dock-item active-icon" onclick="nav('home')">ü™ê</div>
            <div id="n-util" class="dock-item" onclick="nav('util')">‚ö°</div>
            <div id="n-logi" class="dock-item" onclick="nav('logi')">‚úàÔ∏è</div>
            <div id="n-fina" class="dock-item" onclick="nav('fina')">üí≥</div>
        </div>
        
        <div class="fab-chat" onclick="toggleModal('chat-overlay')">üí¨</div>
    </div>

    <script>
        function buzz(d) { if(navigator.vibrate) navigator.vibrate(d); }
        function toggleModal(id) { buzz(30); const e = document.getElementById(id); e.style.display = (e.style.display==='flex')?'none':'flex'; }
        
        // --- REAL MATH & LOGIC ---
        let balance = 50000;
        let userName = "STEVEN ADEWOLE";
        let isCardFrozen = false;
        
        function updateDisplay() {
            document.getElementById('wallet-bal').innerText = "‚Ç¶ " + balance.toLocaleString() + ".00";
            document.getElementById('pass-name').innerText = userName;
            let initials = userName.split(' ').map(n => n[0]).join('').substring(0,2).toUpperCase();
            document.getElementById('main-avatar').innerText = initials;
            document.getElementById('pass-avatar').innerText = initials;
        }

        function addToLedger(name, amt, type="debit") {
            const list = document.getElementById('ledger-list');
            const row = document.createElement('div');
            row.className = 'tx-row';
            let color = type === "credit" ? "#0f0" : "#ff4444";
            let sign = type === "credit" ? "+" : "-";
            let icon = type === "credit" ? "üè¶" : "üí∏";
            row.innerHTML = `<div class="tx-icon">${icon}</div><div class="tx-details"><p class="tx-title">${name}</p><p class="tx-date">Just Now</p></div><div class="tx-amt" style="color:${color}">${sign}‚Ç¶${amt.toLocaleString()}</div>`;
            list.insertBefore(row, list.firstChild);
        }

        // --- FREEZE LOGIC ---
        function toggleFreeze() {
            const card = document.getElementById('credit-card-ui');
            const status = document.getElementById('card-status');
            const num = document.getElementById('card-num');
            
            buzz(100);
            
            if(isCardFrozen) {
                // UNFREEZE
                isCardFrozen = false;
                card.classList.remove('frozen');
                status.innerText = "ACTIVE";
                status.classList.remove('frozen-text');
                num.innerText = "**** 8820";
                msg("CARD UNLOCKED");
            } else {
                // FREEZE
                isCardFrozen = true;
                card.classList.add('frozen');
                status.innerText = "FROZEN ‚ùÑÔ∏è";
                status.classList.add('frozen-text');
                num.innerText = "‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è ‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è";
                msg("CARD FROZEN");
            }
        }

        function bookFlight() {
            if(isCardFrozen) { msg("CARD IS FROZEN ‚ùÑÔ∏è"); return; }
            pay(150000, "Private Jet Booking");
        }

        // --- PAYMENT ENGINE ---
        function pay(amount, name) {
            if(isCardFrozen) { msg("CARD IS FROZEN ‚ùÑÔ∏è"); buzz([50,50,50]); return; }
            if(balance < amount) { msg("INSUFFICIENT FUNDS"); return; }
            
            buzz(50);
            balance = balance - amount;
            updateDisplay();
            addToLedger(name, amount);
            toggleModal('receipt-overlay');
            document.getElementById('rec-title').innerText = "SUCCESS";
            document.getElementById('rec-amt').innerText = "‚Ç¶ " + amount.toLocaleString();
            document.getElementById('rec-to').innerText = name;
        }

        // --- STANDARD FUNCTIONS ---
        function saveSettings() {
            const newName = document.getElementById('set-name').value;
            if(newName) { userName = newName.toUpperCase(); updateDisplay(); msg("PROFILE UPDATED"); toggleModal('settings-overlay'); }
        }
        function resetSystem() { if(confirm("RESET ALL DATA?")) location.reload(); }
        function toggleTheme(type) { const r = document.querySelector(':root'); if(type === 'matrix') { r.style.setProperty('--accent', '#00ff00'); } else { r.style.setProperty('--accent', '#FFD700'); } buzz(50); }
        function closeReceipt() { const btn = document.querySelector('#receipt-overlay .btn-full'); btn.innerText = "DOWNLOADING..."; buzz(50); setTimeout(() => { btn.innerText = "SAVED TO FILES"; setTimeout(() => { toggleModal('receipt-overlay'); btn.innerText = "DOWNLOAD PDF"; }, 1000); }, 1500); }
        function openScanner() { toggleModal('scan-overlay'); document.getElementById('scan-status').innerText = "SEARCHING..."; setTimeout(() => { buzz(50); document.getElementById('scan-status').innerText = "SHOPRITE IKEJA"; setTimeout(() => { toggleModal('scan-overlay'); pay(3500, "Shoprite (QR)"); }, 1500); }, 3000); }
        function startLoanProcess() { toggleModal('loan-overlay'); document.getElementById('credit-scanner').style.display = "block"; document.getElementById('credit-result').style.display = "none"; buzz(50); setTimeout(() => { document.getElementById('credit-scanner').style.display = "none"; document.getElementById('credit-result').style.display = "block"; buzz([50,50,50]); }, 2500); }
        function disburseLoan() { toggleModal('loan-overlay'); balance += 500000; updateDisplay(); addToLedger("Credit Disbursal", 500000, "credit"); setTimeout(() => { toggleModal('receipt-overlay'); document.getElementById('rec-title').innerText = "LOAN APPROVED"; document.getElementById('rec-amt').innerText = "‚Ç¶ 500,000"; document.getElementById('rec-to').innerText = "Wallet Credited"; buzz(200); }, 500); }
        function verifyAccount() { const acc = document.getElementById('send-acc').value; if(acc.length===10){ document.getElementById('verify-box').style.display='block'; document.getElementById('verified-name').innerText="VERIFYING..."; setTimeout(()=>{ buzz(50); document.getElementById('verified-name').innerText="EMMANUEL CHIBUZOR"; },1000); } else { document.getElementById('verify-box').style.display='none'; } }
        function processTransfer() { const amt=parseInt(document.getElementById('send-amt').value); const name=document.getElementById('verified-name').innerText; const bank=document.getElementById('send-bank').value; if(!amt||amt<=0){msg("ENTER AMOUNT");return;} toggleModal('send-overlay'); pay(amt, name+" ("+bank+")"); }
        function sendMsg() { const i=document.getElementById('user-input'); const b=document.getElementById('chat-box'); if(i.value==="")return; b.innerHTML+=`<div class="msg msg-user">${i.value}</div>`; setTimeout(()=>{ b.innerHTML+=`<div class="msg msg-ai">Request received.</div>`; b.scrollTop=b.scrollHeight; buzz(50);},1000); i.value=""; b.scrollTop=b.scrollHeight; }
        function authenticate() { buzz(100); const s=document.getElementById('auth-status'); document.querySelector('.auth-btn').style.display='none'; s.innerText="SCANNING..."; s.style.color="var(--accent)"; setTimeout(()=>{ buzz([100,50,100]); s.innerText="GRANTED"; s.style.color="#0f0"; setTimeout(()=>{ document.getElementById('launchpad').style.top="-100%"; document.getElementById('app-interface').style.display="block"; setTimeout(()=>{document.getElementById('app-interface').style.opacity="1"},100); },800); },1000); }
        function nav(id) { buzz(30); document.querySelectorAll('.pillar').forEach(p=>p.classList.remove('active')); document.querySelectorAll('.dock-item').forEach(d=>d.classList.remove('active-icon')); document.getElementById(id).classList.add('active'); document.getElementById('n-'+id).classList.add('active-icon'); }
        let isStealth=false;
        function toggleStealth() { buzz(20); const b=document.getElementById('wallet-bal'); b.innerText=isStealth?("‚Ç¶ "+balance.toLocaleString()+".00"):"‚Ç¶ ****"; isStealth=!isStealth; }
        function msg(t) { const a=document.getElementById('ai-msg'); a.innerText=t; a.style.color="#fff"; setTimeout(()=>{a.style.color="#888"},2000); }
        setInterval(()=>{document.getElementById('clock').innerText=new Date().toLocaleTimeString()},1000);
    </script>
</body>
</html>
